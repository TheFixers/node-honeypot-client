"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=require("react"),_react2=_interopRequireDefault(_react),_headerComponent=require("./header-component.js"),_headerComponent2=_interopRequireDefault(_headerComponent),_searchAreaComponent=require("./search-area-component.js"),_searchAreaComponent2=_interopRequireDefault(_searchAreaComponent),_resultsAreaComponent=require("./results-area-component.js"),_resultsAreaComponent2=_interopRequireDefault(_resultsAreaComponent),_footerComponent=require("./footer-component.js"),_footerComponent2=_interopRequireDefault(_footerComponent),_promiseFetchServerData=require("../scripts/promise-fetch-server-data.js"),_promiseFetchServerData2=_interopRequireDefault(_promiseFetchServerData);exports["default"]=_react2["default"].createClass({displayName:"App",propTypes:{protocol:_react2["default"].PropTypes.string.isRequired,host:_react2["default"].PropTypes.string.isRequired,file:_react2["default"].PropTypes.string.isRequired,source:_react2["default"].PropTypes.string.isRequired},getInitialState:function(){var e=this.props.protocol,t=this.props.host,r=this.props.file,a=this._constructSourceUrl(e,t,r);return{source:a,host:t,clientData:[],openIndex:null,error:null,logging:!0,searchTerm:""}},componentDidMount:function(){var e=this;console.log("App mounted...");var t=(0,_promiseFetchServerData2["default"])(this.props.source);t.then(function(t){var r=t.trim().split("\n");e.setState({clientData:r,error:null})})["catch"](function(t){e.setState({clientData:[],error:t}),console.error(t)})},componentWillUnmount:function(){console.log("App un-mounted...")},_constructSourceUrl:function(e,t,r){return String(e+t+r)},_handleSearch:function(e){var t=e.target.value;this.state.logging&&console.log('Search term: "'+t+'"'),this.setState({searchTerm:t})},render:function(){return _react2["default"].createElement("div",{className:"app-react-container"},_react2["default"].createElement(_headerComponent2["default"],{className:"app-react-header",logging:this.state.logging,host:this.state.host,searchTerm:this.state.searchTerm,updateSearch:this._handleSearch}),_react2["default"].createElement(_searchAreaComponent2["default"],{className:"app-react-search",placeholder:"Search for...",value:this.props.searchTerm,updateSearch:this._handleSearch}),_react2["default"].createElement(_resultsAreaComponent2["default"],{className:"app-react-results",logging:this.state.logging,data:this.state.clientData}),_react2["default"].createElement(_footerComponent2["default"],{className:"app-react-footer",logging:this.state.logging,source:this.props.source}))}});